var ChatbotWidget=function(C,a,g,J,E,_){"use strict";function H(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var S={exports:{}},v={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O;function Y(){if(O)return v;O=1;var s=a,n=Symbol.for("react.element"),e=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,r=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function b(u,l,h){var d,m={},f=null,x=null;h!==void 0&&(f=""+h),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(x=l.ref);for(d in l)c.call(l,d)&&!o.hasOwnProperty(d)&&(m[d]=l[d]);if(u&&u.defaultProps)for(d in l=u.defaultProps,l)m[d]===void 0&&(m[d]=l[d]);return{$$typeof:n,type:u,key:f,ref:x,props:m,_owner:r.current}}return v.Fragment=e,v.jsx=b,v.jsxs=b,v}var P;function Z(){return P||(P=1,S.exports=Y()),S.exports}var t=Z(),R={exports:{}},A,B;function L(){if(B)return A;B=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return A=s,A}var k,D;function z(){if(D)return k;D=1;var s=L();function n(){}function e(){}return e.resetWarningCache=n,k=function(){function c(b,u,l,h,d,m){if(m!==s){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}c.isRequired=c;function r(){return c}var o={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:r,element:c,elementType:c,instanceOf:r,node:c,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:e,resetWarningCache:n};return o.PropTypes=o,o},k}var q;function $(){return q||(q=1,R.exports=z()()),R.exports}var ee=$();const j=H(ee),K=a.createContext(null),te=({children:s})=>{const n=a.useRef(new g.RTVIClient({transport:new J.DailyTransport,params:{baseUrl:"http://0.0.0.0:7860",endpoints:{connect:"/connect"}},enableMic:!0}));return t.jsx(K.Provider,{value:n.current,children:s})},se=()=>{const s=a.useContext(K);if(!s)throw new Error("usePipeCat must be used within a PipeCatProvider");return s};class ne{constructor(n,e){this.apiKey=n,this.handlers=e,this.ws=null,this.reconnectAttempts=0,this.maxReconnectAttempts=3,this.baseReconnectDelay=1e3,this.isConnecting=!1,this.inactivityTimeout=null,this.manuallyEnded=!1,this.resetInactivityTimer()}connect(){this.isConnecting||(this.manuallyEnded=!1,console.log("Connecting to WebSocket..."),this.ws=new WebSocket(`wss://stage-chatbox.quibbleai.io:3333/ws?apiKey=${this.apiKey}`),this.ws.onopen=()=>{var n,e;console.log("WebSocket connected"),this.isConnecting=!1,this.reconnectAttempts=0,(e=(n=this.handlers).onConnect)==null||e.call(n)},this.ws.onmessage=n=>{var e,c,r,o,b,u,l,h;try{const d=JSON.parse(n.data);switch(d.event){case"ready":console.log("Ready event received"),(c=(e=this.handlers).onReady)==null||c.call(e);break;case"typing":console.log("Typing event received"),(o=(r=this.handlers).onTyping)==null||o.call(r,d.data.status);break;case"assistant_message":console.log("Assistant message received"),(u=(b=this.handlers).onMessage)==null||u.call(b,d.data.assistant_text);break;default:console.warn("Unknown event received:",d.event)}}catch(d){console.error("Message parsing error:",d),(h=(l=this.handlers).onError)==null||h.call(l,d)}},this.ws.onclose=()=>{console.log("WebSocket closed"),this.isConnecting=!1,this.handleReconnect()},this.ws.onerror=n=>{var e,c;console.error("WebSocket error:",n),(c=(e=this.handlers).onError)==null||c.call(e,n)})}resetInactivityTimer(){this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.inactivityTimeout=setTimeout(()=>{const n={event:"keepAlive"};this.ws.send(JSON.stringify(n))},5e4),this.inactivityTimeout=setTimeout(()=>{var n,e;console.log("Connection closed due to inactivity"),(e=(n=this.handlers).onSessionEnd)==null||e.call(n),this.disconnect()},18e4)}sendMessage(n){var e,c,r;if(this.resetInactivityTimer(),((e=this.ws)==null?void 0:e.readyState)===WebSocket.OPEN){const o={event:"user_message",data:{user_text:n}};console.log("Sending message:",o),this.ws.send(JSON.stringify(o)),(r=(c=this.handlers).onLocalMessage)==null||r.call(c,n)}else throw new Error("WebSocket is not connected")}handleReconnect(){var e,c;if(this.manuallyEnded){console.log("Manual disconnect - skipping reconnect");return}if(this.reconnectAttempts>=this.maxReconnectAttempts){(c=(e=this.handlers).onError)==null||c.call(e,new Error("Max reconnection attempts reached"));return}const n=this.baseReconnectDelay*Math.pow(2,this.reconnectAttempts);this.reconnectAttempts++,console.log(`Attempting to reconnect in ${n}ms (attempt ${this.reconnectAttempts})`),setTimeout(()=>this.connect(),n)}disconnect(n=!1){n&&(this.manuallyEnded=!0),this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.ws&&(console.log("Disconnecting WebSocket"),this.ws.close(),this.ws=null)}}const w=(s,n="white")=>{const e=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${n}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">${s}</svg>`;return`data:image/svg+xml;base64,${btoa(e)}`},ce=()=>t.jsx("img",{src:w('<path d="m22 2-7 20-4-9-9-4Z" /><path d="M22 2 11 13" />'),alt:"Send",className:"cb-w-5 cb-h-5 cb-text-current"}),re=()=>t.jsx("img",{src:w('<path d="M18 6 6 18" /><path d="m6 6 12 12" />'),alt:"Close",className:"cb-w-6 cb-h-6 cb-text-current"}),oe=()=>t.jsx("img",{src:w('<path d="M18.36 6.64A9 9 0 0 1 20.77 15" /><path d="M6.16 6.16a9 9 0 1 0 12.68 12.68" /><path d="M12 2v4" />'),alt:"Power",className:"cb-w-6 cb-h-6 cb-text-current"}),M=({onWhiteBackground:s=!1})=>t.jsx("img",{src:w('<path d="M12 8V4H8" /><rect width="16" height="12" x="4" y="8" rx="2" /><path d="M2 14h2" /><path d="M20 14h2" /><path d="M15 13v2" /><path d="M9 13v2" />',s?"#6B46C1":"white"),alt:"Bot",className:"cb-w-6 cb-h-6"}),ie=()=>t.jsx("img",{src:w('<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/>'),alt:"Microphone",className:"cb-w-5 cb-h-5 cb-text-current"}),ae=(s,n=30)=>{const[e,c]=a.useState(""),r=a.useRef(null);return a.useEffect(()=>{let o=0;const b=setInterval(()=>{o<s.length?(c(s.substring(0,o+1)),o++,r.current&&r.current.scrollIntoView({behavior:"smooth",block:"end"})):clearInterval(b)},n);return()=>clearInterval(b)},[s,n]),{displayedText:e,containerRef:r}},le=s=>{const n=[];let e=0;for(;e<s.length;){const c=Math.min(s.indexOf("[",e)===-1?1/0:s.indexOf("[",e),s.indexOf("- {",e)===-1?1/0:s.indexOf("- {",e));if(c===1/0)break;if(c>e&&n.push({type:"text",content:s.slice(e,c).trim()}),s[c]==="["){const r=s.indexOf("]",c)+1;if(r===0)break;try{const o=s.slice(c,r),b=JSON.parse(o.replace(/'/g,'"'));n.push({type:"table",data:b}),e=r}catch{e=c+1}}else{let r=[],o=c;for(;o!==-1&&s.startsWith("- {",o);){const b=s.indexOf("}",o)+1;if(b===0)break;try{const u=s.slice(o+2,b),l=JSON.parse(u.replace(/'/g,'"'));r.push(l),o=s.indexOf("- {",b)}catch{break}}r.length>0?(n.push({type:"table",data:r}),e=s.indexOf("}",c)+1):e=c+1}}return e<s.length&&n.push({type:"text",content:s.slice(e).trim()}),n},be=({data:s})=>{const n=Object.keys(s[0]);return t.jsx("div",{className:"cb-w-fit",children:t.jsxs("table",{className:"cb-w-full cb-border-collapse cb-text-sm cb-table",children:[t.jsx("thead",{children:t.jsx("tr",{className:"cb-bg-purple-100",children:n.map(e=>t.jsx("th",{className:"cb-border cb-border-purple-200 cb-p-2 cb-text-left cb-font-semibold cb-text-gray-800 cb-table-cell",children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),t.jsx("tbody",{children:s.map((e,c)=>t.jsx("tr",{className:"cb-even:bg-purple-50",children:n.map(r=>t.jsx("td",{className:"cb-border cb-border-purple-200 cb-p-2 cb-text-sm cb-text-gray-800 cb-table-cell",children:e[r]},r))},c))})]})})},V=({message:s,type:n})=>{const e=n==="user",c=s.includes("[")||s.includes("- {"),{displayedText:r,containerRef:o}=ae(n==="assistant"&&!c?s:""),b=()=>{if(!e&&c)try{const u=le(s);return t.jsx("div",{className:`cb-w-fit ${e?"cb-text-white":"cb-text-gray-800"}`,children:u.map((l,h)=>t.jsxs(a.Fragment,{children:[l.type==="text"&&t.jsx("p",{className:`cb-my-2 cb-font-semibold ${e?"cb-text-white":"cb-text-gray-800"}`,children:l.content}),l.type==="table"&&t.jsx("div",{className:"cb-my-4",children:t.jsx(be,{data:l.data})})]},h))})}catch(u){return console.error("Error parsing sections:",u),t.jsx("span",{children:s})}return t.jsx("span",{className:e?"cb-text-white":"cb-text-gray-800",children:n==="assistant"?r:s})};return t.jsxs("div",{ref:o,className:`cb-flex ${e?"cb-flex-row-reverse cb-text-white":"cb-flex-row cb-text-gray-800"} cb-items-end cb-gap-2 cb-mb-4`,children:[n==="assistant"&&t.jsx("div",{className:"cb-h-8 cb-w-8 cb-flex cb-items-center cb-justify-center cb-rounded-full cb-bg-[#BE3CEB] cb-flex-shrink-0",children:t.jsx(M,{className:"cb-w-5 cb-h-5 cb-text-white"})}),t.jsx("div",{className:`cb-w-fit cb-p-3 cb-rounded-lg ${e?"cb-bg-[#BE3CEB] cb-text-white cb-rounded-br-none cb-ml-auto":"cb-bg-gray-100 cb-text-gray-800 cb-rounded-bl-none cb-mr-auto"} cb-font-semibold cb-text-sm`,children:b()})]})};V.propTypes={message:j.string.isRequired,type:j.string.isRequired};const de=()=>t.jsx("div",{className:"cb-flex cb-items-center cb-bg-gray-100 cb-py-3 cb-px-4 cb-rounded-lg cb-w-fit",children:t.jsxs("div",{className:"cb-flex cb-items-center cb-gap-2",children:[t.jsx("div",{className:"cb-w-2 cb-h-2 cb-rounded-full cb-bg-gray-500 cb-animate-bounce"}),t.jsx("div",{className:"cb-w-2 cb-h-2 cb-rounded-full cb-bg-gray-500 cb-animate-bounce [animation-delay:-0.15s]"}),t.jsx("div",{className:"cb-w-2 cb-h-2 cb-rounded-full cb-bg-gray-500 cb-animate-bounce [animation-delay:-0.3s]"})]})}),ue="data:image/png;base64,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",he=({apiKey:s,isOpen:n,onStateChange:e,setIsOpen:c})=>{const[r,o]=a.useState([]),[b,u]=a.useState(""),[l,h]=a.useState(!1),[d,m]=a.useState(!1),f=se(),[x,I]=a.useState(!1),[Ee,fe]=a.useState(!1),[X,xe]=a.useState(!1),T=a.useRef(null),y=a.useRef(null);a.useEffect(()=>(y.current=new ne(s,{onConnect:()=>I(!0),onDisconnect:()=>I(!1),onTyping:()=>h(!0),onMessage:i=>{h(!1),o(p=>[...p,{role:"assistant",content:i}])},onLocalMessage:i=>{o(p=>[...p,{role:"user",content:i}])},onReady:()=>{xe(!0)},onSessionEnd:()=>{m(!0)}}),()=>{var i;return(i=y.current)==null?void 0:i.disconnect()}),[s]),a.useEffect(()=>{n&&!x&&(y.current.manuallyEnded=!1,y.current.connect())},[n,x]),a.useEffect(()=>{T.current&&(T.current.scrollTop=T.current.scrollHeight)},[r,l]),a.useEffect(()=>{e&&e(n)},[n,e]),E.useRTVIClientEvent(g.RTVIEvent.UserTranscript,i=>{i.final&&o(p=>[...p,{role:"user",content:i.text}])}),E.useRTVIClientEvent(g.RTVIEvent.BotTranscript,i=>{o(p=>[...p,{role:"assistant",content:i.text}]),h(!1)}),E.useRTVIClientEvent(g.RTVIEvent.BotTyping,()=>{h(!0)}),E.useRTVIClientEvent(g.RTVIEvent.SessionEnd,()=>{m(!0)});const G=i=>{if(i.preventDefault(),!(!b.trim()||!x||!X))try{y.current.sendMessage(b),u("")}catch(p){console.error("Failed to send message:",p)}},ye=async i=>{i.preventDefault(),i.stopPropagation();try{await f.connect(),console.log("Voice button clicked")}catch(p){console.error("Failed to initialize voice chat:",p)}},ge=i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),G(i))},Q=async()=>{c(!1),e&&e(!1),await f.disconnect(),y.current.disconnect(!0),o([]),I(!1),fe(!0),m(!0)},ve=()=>{c(!1),e&&e(!1)},we=async()=>{o([]),m(!1),await f.connect(),y.current.connect()};return t.jsxs("div",{className:`cb-chat-window cb-fixed cb-bottom-4 cb-right-[4.5rem] cb-origin-bottom-left cb-transition-all cb-duration-200 cb-w-[400px] cb-h-[600px] cb-bg-gray-50 cb-rounded-lg cb-shadow-xl cb-flex cb-flex-col ${n?"cb-scale-100 cb-opacity-100 cb-translate-y-0":"cb-scale-95 cb-opacity-0 cb-translate-y-4"}`,children:[d&&t.jsx("div",{className:"cb-modal-backdrop",children:t.jsxs("div",{className:"cb-modal-content",children:[t.jsx("p",{className:"cb-session-ended-text",children:"The last session is over. Please start over if you require further help."}),t.jsxs("div",{className:"cb-session-ended-buttons",children:[t.jsx("button",{onClick:we,className:"cb-session-button cb-start-again",children:"Start Again"}),t.jsx("button",{onClick:Q,className:"cb-session-button cb-cancel",children:"Cancel"})]})]})}),t.jsxs("div",{className:"cb-bg-[#BE3CEB] cb-p-4 cb-rounded-t-lg cb-flex cb-items-center cb-justify-between cb-z-50",children:[t.jsxs("div",{className:"cb-flex cb-items-center cb-gap-2",children:[t.jsx("div",{className:"cb-h-7 cb-w-7 cb-flex cb-items-center cb-justify-center cb-rounded-full cb-bg-white",children:t.jsx(M,{className:"cb-w-5 cb-h-5 cb-text-[#BE3CEB] cb-cursor-pointer",onWhiteBackground:!0})}),t.jsxs("h2",{className:"cb-text-white cb-flex cb-items-center cb-justify-center cb-text-lg cb-font-semibold",children:["Quibble Support",x&&X&&t.jsx("span",{className:"cb-inline-block cb-w-2 cb-h-2 cb-rounded-full cb-bg-green-400 cb-ml-2"})]})]}),t.jsxs("div",{className:"cb-flex cb-items-center cb-gap-2",children:[t.jsx("button",{onClick:Q,className:"cb-text-white hover:cb-text-red-200 cb-transition-colors cb-cursor-pointer",title:"End Chat",children:t.jsx(oe,{className:"cb-w-6 cb-h-6 cb-cursor-pointer"})}),t.jsx("button",{onClick:ve,className:"cb-text-white hover:cb-text-purple-200 cb-transition-colors cb-cursor-pointer",title:"Close Chat",children:t.jsx(re,{className:"cb-w-6 cb-h-6 cb-cursor-pointer"})})]})]}),t.jsxs("div",{ref:T,className:"cb-flex-1 cb-overflow-y-auto cb-p-4 cb-space-y-4 cb-bg-gray-50 cb-chat-messages cb-z-50",children:[r.map((i,p)=>t.jsx(V,{message:i.content,type:i.role==="user"?"user":"assistant"},p)),l&&t.jsxs("div",{className:"cb-flex cb-items-center cb-gap-2",children:[t.jsx("div",{className:"cb-h-8 cb-w-8 cb-flex cb-items-center cb-justify-center cb-rounded-full cb-bg-[#BE3CEB]",children:t.jsx(M,{className:"cb-w-5 cb-h-5 cb-text-white"})}),t.jsx(de,{})]})]}),t.jsx("div",{className:"cb-bg-white cb-p-4 cb-shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] cb-z-20",children:t.jsx("form",{onSubmit:G,className:"cb-relative",children:t.jsxs("div",{className:"cb-flex cb-gap-2",children:[t.jsx("button",{type:"button",onClick:ye,className:"cb-p-2 cb-text-white cb-bg-[#BE3CEB] cb-rounded-lg hover:cb-bg-[#ac2adb] disabled:cb-bg-gray-400 disabled:cb-cursor-not-allowed cb-transition-colors",children:t.jsx(ie,{className:"cb-w-5 cb-h-5"})}),t.jsx("textarea",{value:b,onChange:i=>u(i.target.value),onKeyDown:ge,placeholder:"Type a message...",className:"cb-flex-1 cb-resize-none cb-p-2 cb-border cb-rounded-lg cb-border-gray-300 focus:cb-outline-none focus:cb-border-[#BE3CEB] focus:cb-ring-1 focus:cb-ring-[#BE3CEB] cb-bg-white cb-max-h-32 cb-font-normal",rows:"1"}),t.jsx("button",{type:"submit",disabled:!x,className:"cb-p-2 cb-text-white cb-bg-[#BE3CEB] cb-rounded-lg hover:cb-bg-[#ac2adb] disabled:cb-bg-gray-400 disabled:cb-cursor-not-allowed cb-transition-colors",children:t.jsx(ce,{className:"cb-w-5 cb-h-5"})})]})})})]})},W=({onStateChange:s,apiKey:n})=>{const[e,c]=a.useState(!1),r=()=>{const o=!e;c(o),s&&s(o)};return t.jsx("div",{className:"cb-fixed cb-inset-0 cb-pointer-events-none",children:t.jsxs("div",{className:"cb-fixed cb-bottom-4 cb-right-4 cb-pointer-events-auto",children:[t.jsx("button",{onClick:r,className:`cb-toggle-button ${e?"cb-hidden":""}`,children:t.jsx("img",{src:ue,alt:"quibbleAI",className:"cb-w-8 cb-h-8 cb-cursor-pointer"})}),e&&t.jsx(te,{children:t.jsx(he,{apiKey:n,isOpen:e,onStateChange:s,setIsOpen:c})})]})})};W.propTypes={apiKey:j.string.isRequired,onStateChange:j.func};var N={},U;function pe(){if(U)return N;U=1;var s=_;return N.createRoot=s.createRoot,N.hydrateRoot=s.hydrateRoot,N}var me=pe();function F(s,n={}){const e=document.createElement("div");e.id="chatbot-container",document.body.appendChild(e),me.createRoot(e).render(a.createElement(a.StrictMode,null,a.createElement(W,{apiKey:s,onStateChange:n.onStateChange})))}return window.ChatbotWidget={init:F},C.init=F,Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),C}({},React,PipeCatClient,DailyTransport,PipeCatReact,ReactDOM);
